const menuLinks=document.querySelectorAll(".header__link");menuLinks.forEach(e=>{document.location.href===e.href&&e.classList.add("_active")});const burger=document.querySelector(".header__burger"),menu=document.querySelector(".header__list");burger.addEventListener("click",(function(){burger.classList.toggle("_active")?(document.body.style.overflow="hidden",menu.classList.toggle("_active")):(document.body.style.overflow="visible",menu.classList.remove("_active"))}));const scroll=document.querySelector(".luxury__scroll-btn[data-goto]");scroll&&scroll.addEventListener("click",(function(e){let o=e.target;if(o.dataset.goto&&document.querySelector(o.dataset.goto)){let r=document.querySelector(o.dataset.goto).getBoundingClientRect().top+pageYOffset;window.scrollTo({top:r,behavior:"smooth"}),e.preventDefault()}})),new Swiper(".rooms__slider",{navigation:{nextEl:".rooms__btn-next",prevEl:".rooms__btn-prev"},pagination:{el:".swiper-pagination",clickable:!0},grabCursor:!0,loop:!0,autoplay:{delay:5e3},speed:600});const details=document.querySelectorAll(".rooms__details"),dropdowns=document.querySelectorAll(".rooms__details-list");function removeDropdown(e,o){removeActive(e),removeActive(o)}function isActive(e){return e.classList.contains("_show")}function removeActive(e){e.classList.remove("_show")}details.forEach((e,o)=>{const r=dropdowns[o];e.addEventListener("click",(function(){e.classList.toggle("_show"),r.classList.toggle("_show")})),isActive(e)&&window.addEventListener("click",removeDropdown(e,r))}),details&&document.addEventListener("click",(function(e){const o=document.querySelectorAll("._show");e.target.classList.contains("rooms__details")||o.forEach(e=>removeActive(e))}));const form=document.forms.form,formReq=document.querySelectorAll("._input");function isInputsEmpty(e){e.forEach(e=>{e.addEventListener("blur",(function(){""!=e.value?e.classList.add("_active"):e.classList.remove("_active")}))})}isInputsEmpty(formReq);const regEmail=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,footerForm=document.forms.footerForm,footerInput=footerForm.elements.footerInput,footerErrors=document.querySelectorAll(".error-message");if(footerForm.addEventListener("submit",(function(e){e.preventDefault(),formRemoveError(footerForm);for(let e=0;e<footerErrors.length;e++)removeErrorMessage(footerErrors[e]),""!=footerInput.value?emailTest(footerInput)&&(formAddError(footerForm),addErrorMessage(footerErrors[1])):(formAddError(footerForm),addErrorMessage(footerErrors[0]))})),form){function formSend(e){e.preventDefault(),formValidate()}form.addEventListener("submit",formSend)}function formValidate(){const e=document.querySelectorAll("._message"),o=document.querySelector("._message-email");removeErrorMessage(o),formReq.forEach((r,t)=>{const s=e[t];formRemoveError(r),removeErrorMessage(s),"email"===r.name&&""!=r.value?emailTest(r)&&(formAddError(r),addErrorMessage(o)):""===r.value&&(formAddError(r),addErrorMessage(s))})}function formAddError(e){e.classList.add("_error")}function formRemoveError(e){e.classList.remove("_error")}function emailTest(e){return!regEmail.test(e.value)}function addErrorMessage(e){e.classList.add("_active")}function removeErrorMessage(e){e.classList.remove("_active")}function testWebP(e){let o=new Image;o.onload=o.onerror=function(){e(2==o.height)},o.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e?document.querySelector("body").classList.add("_webp"):document.querySelector("body").classList.add("_no-webp")}));